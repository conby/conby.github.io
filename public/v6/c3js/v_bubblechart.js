function updateVtypeChange(e){json_source=JSON.parse(e);var t=json_source;svg.selectAll("*").remove(),start(t)}function start(e){var t=svg.selectAll(".d3node").data(bubble.nodes(classes(e)).filter(function(e){return!e.children})).enter().append("g").attr("class","d3node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"});t.append("title").text(function(e){return e.className+": "+format(e.value)}),t.append("circle").attr("r",function(e){return e.r}).style("stroke-width",0).style("fill",function(e){return color2(e.packageName)}),t.append("text").attr("dy",".3em").style("text-anchor","middle").text(function(e){return e.className.substring(0,e.r/3)}),d3.select(self.frameElement).style("height",h+"px")}function classes(e){function t(e,r){r.children?r.children.forEach(function(e){t(r.name,e)}):n.push({packageName:e,className:r.name,value:r.size})}var n=[];return t(null,e),{children:n}}w=ow,h=oh,format=d3.format(",d"),color2=d3.scale.category20c();var bubble=d3.layout.pack().sort(null).size([w,h]).padding(1.5);svg&&svg.remove(),svg=d3.select("#chat").append("svg").attr("width",w).attr("height",h).attr("class","bubble"),json_source?start(json_source):d3.json(document.getElementById("jsonsource").value,function(e,t){if(e)throw e;start(t)});